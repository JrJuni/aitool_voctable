# VOC Management System

VOC(Voice of Customer) 관리 시스템입니다. 사용자 권한에 따라 VOC, 회사, 연락처, 프로젝트 정보를 조회하고 편집할 수 있습니다.

## 🚀 빠른 시작

### 1. 백엔드 서버 실행
```bash
# 터미널 1에서 실행
cd projects/voc_table
python run_backend.py
```

### 2. 프론트엔드 실행
```bash
# 터미널 2에서 실행
cd projects/voc_table
python run_frontend.py
```

### 3. 접속
- **프론트엔드**: http://localhost:8501
- **API 문서**: http://localhost:8000/docs

## 👥 사용자 권한

### Level 1 (일반 사용자)
- VOC 조회만 가능

### Level 2+ (관리자)
- VOC, Company, Contact, Project 모든 테이블 조회/편집 가능
- 편집 모드에서 실시간 테이블 수정 가능
- 모든 변경사항은 감사 로그에 자동 기록

## 🔧 주요 기능

### 📋 VOC 관리
- VOC 목록 조회 및 편집
- 상태, 우선순위, 담당자 관리
- 새 VOC 추가

### 🏢 회사 관리
- 회사 정보 조회 및 편집
- 매출, 직원수, 국가 정보 관리
- 새 회사 추가

### 👥 연락처 관리
- 연락처 정보 조회 및 편집
- 이메일, 전화번호, 직책 관리
- 새 연락처 추가

### 🚀 프로젝트 관리
- 프로젝트 정보 조회 및 편집
- AI 모델, 성능, 요구사항 관리
- 새 프로젝트 추가

## 🛠️ 편집 기능

### 편집 모드
1. **편집 버튼 클릭**: 테이블을 편집 가능한 모드로 전환
2. **직접 편집**: 테이블에서 직접 데이터 수정
3. **저장**: 변경사항을 데이터베이스에 저장
4. **취소**: 변경사항을 취소하고 원래 상태로 복원

### 감사 로그
- 모든 변경사항이 자동으로 감사 로그에 기록
- 변경 전/후 데이터, 사용자 정보, 시간 등 기록
- Level 4 이상 사용자가 감사 로그 조회 가능

## 📁 프로젝트 구조

```
voc_table/
├── backend/
│   ├── app/
│   │   ├── main.py          # FastAPI 메인 앱
│   │   ├── schemas.py       # Pydantic 스키마
│   │   ├── db_models.py     # SQLAlchemy 모델
│   │   ├── crud.py          # CRUD 함수들
│   │   └── ...
│   └── ...
├── frontend/
│   └── streamlit_app.py     # Streamlit 프론트엔드
├── run_backend.py           # 백엔드 실행 스크립트
├── run_frontend.py          # 프론트엔드 실행 스크립트
└── README.md
```

## 🔐 보안 기능

- JWT 토큰 기반 인증
- 사용자 권한 레벨별 접근 제어
- 모든 데이터 변경에 대한 감사 로그
- 비밀번호 해싱 및 보안 처리

## 📝 API 문서

백엔드 서버 실행 후 http://localhost:8000/docs 에서 자동 생성된 API 문서를 확인할 수 있습니다.

## 🐛 문제 해결

### 백엔드 서버 연결 오류
- 백엔드 서버가 실행 중인지 확인
- 포트 8000이 사용 중이지 않은지 확인
- 필요한 패키지가 설치되어 있는지 확인

### 편집 모드 오류
- 데이터 타입이 올바른지 확인
- 필수 필드가 비어있지 않은지 확인
- 권한이 충분한지 확인 (Level 2+)

## 📞 지원

문제가 발생하면 다음을 확인해주세요:
1. 백엔드 서버가 실행 중인지
2. 필요한 패키지가 설치되어 있는지
3. 사용자 권한이 충분한지
4. 데이터베이스 연결이 정상인지
